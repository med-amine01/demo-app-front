<div *ngIf="product()">
  <!-- Back Button -->
  <div class="mb-4">
    <button class="btn btn-outline-secondary" (click)="goBack()">
      <i class="bi bi-arrow-left me-2"></i>Back to Products
    </button>
  </div>

  <!-- Product Details Card -->
  <div class="row">
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm bg-white">
        <div class="card-body p-4">
          <div class="row">
            <div class="col-md-8">
              <h1 class="h4 mb-3">
                <i class="bi bi-box me-2"></i>
                {{ product()?.name }}
              </h1>

              <div class="row mb-4">
                <div class="col-sm-6">
                  <div class="card bg-light">
                    <div class="card-body text-center">
                      <i class="bi bi-currency-dollar text-dark fs-2"></i>
                      <div class="h5 text-dark fw-bold mt-2">
                        {{ formattedPrice }}
                      </div>
                      <small class="text-muted">Price</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="card bg-light">
                    <div class="card-body text-center">
                      <i class="bi bi-boxes text-dark fs-2"></i>
                      <div
                        class="h5 fw-bold mt-2"
                        [class]="
                          (product()?.quantity ?? 0) > 0
                            ? 'text-dark'
                            : 'text-muted'
                        "
                      >
                        {{ product()?.quantity || 0 }}
                      </div>
                      <small class="text-muted">Stock</small>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mb-4">
                <h6 class="text-muted mb-3">
                  <i class="bi bi-info-circle me-1"></i>
                  Product Information
                </h6>
                <table class="table table-sm table-borderless">
                  <tr>
                    <td class="text-muted">
                      <i class="bi bi-hash me-1"></i>
                      Product ID:
                    </td>
                    <td>
                      <code class="bg-light px-2 py-1 rounded">{{
                        product()?.id
                      }}</code>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-muted">
                      <i class="bi bi-check-circle me-1"></i>
                      Status:
                    </td>
                    <td>
                      <span
                        class="badge"
                        [class]="
                          (product()?.quantity ?? 0) > 0
                            ? 'bg-success text-white'
                            : 'bg-danger text-white'
                        "
                      >
                        <i
                          class="bi"
                          [class]="
                            (product()?.quantity ?? 0) > 0
                              ? 'bi-check-circle'
                              : 'bi-x-circle'
                          "
                        ></i>
                        {{
                          (product()?.quantity ?? 0) > 0
                            ? 'In Stock'
                            : 'Out of Stock'
                        }}
                      </span>
                    </td>
                  </tr>
                </table>
              </div>

              <div class="d-flex gap-2">
                <button
                  class="btn btn-primary"
                  (click)="addToCart()"
                  [disabled]="(product()?.quantity ?? 0) === 0"
                >
                  <i class="bi bi-cart-plus me-2"></i>Add to Cart
                </button>
                <button class="btn btn-outline-primary">
                  <i class="bi bi-pencil me-2"></i>Edit Product
                </button>
                <button class="btn btn-outline-primary">
                  <i class="bi bi-trash me-2"></i>Delete
                </button>
              </div>
            </div>

            <div class="col-md-4 text-center">
              <div class="card bg-light">
                <div class="card-body p-5">
                  <i class="bi bi-box display-1 text-muted"></i>
                  <p class="text-muted mt-3">Product Image</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="isLoading()" class="text-center py-5">
  <div
    class="spinner-border text-primary"
    role="status"
    style="width: 3rem; height: 3rem"
  >
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="text-muted mt-3">Loading product details...</p>
</div>

<!-- Error State -->
<div
  *ngIf="error()"
  class="alert alert-danger d-flex align-items-center"
  role="alert"
>
  <i class="bi bi-exclamation-triangle-fill me-2"></i>
  <div>
    {{ error() }}
  </div>
  <button class="btn btn-outline-danger btn-sm ms-auto" (click)="goBack()">
    <i class="bi bi-arrow-left me-1"></i>Back to Products
  </button>
</div>
